<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastrar Extintor - FirePoint</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='ce.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    
</head>
<body>
    <div class="form-container">
        <h2>Cadastrar Novo Extintor</h2>
        
        <form method="POST" action="{{ url_for('cadastrar_extintor') }}" enctype="multipart/form-data">
            <div class="grid-2">
                <div class="form-group">
                    <label>Número de Identificação: </label>
                    <input type="text" name="numero_serie" required>
                </div>
                
                <div class="form-group">
                    <label>Tipo: </label>
                    <select name="tipo" required>
                        <option value="">Selecione...</option>
                        <option value="Água">Água</option>
                        <option value="CO2">CO2</option>
                        <option value="Pó Químico BC">Pó Químico BC</option>
                    </select>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="form-group">
                    <label>Capacidade: </label>
                    <input type="text" name="capacidade" placeholder="Ex: 4kg, 6kg, 10L" required>
                </div>
                
                <div class="form-group">
                    <label>Localização: </label>
                    <input type="text" name="localizacao" placeholder="Ex: Corredor A, Sala 101" required>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="form-group">
                    <label>Data de Instalação: </label>
                    <input type="date" name="data_instalacao" required>
                </div>
                
                <div class="form-group">
                    <label>Próxima Inspeção: </label>
                    <input type="date" name="data_proxima_inspecao" required>
                </div>
            </div>
            
            <div class="form-group">
                <label>Foto do Extintor:</label>
                <input type="file" name="foto" accept="image/*" capture="environment">
                <small>Formatos: JPG, PNG, GIF (Máx. 16MB)</small>
                <img id="fotoPreview" class="foto-preview">
            </div>
            
            <div class="form-group">
                <label>Observações:</label>
                <textarea name="observacoes" rows="4" placeholder="Informações adicionais..."></textarea>
            </div>
            
            <button type="submit">Cadastrar Extintor</button>
        </form>
    </div>

    <script>
        // Preview da foto antes de enviar
        document.querySelector('input[name="foto"]').addEventListener('change', function(e) {
            const file = e.target.files[0];
            const preview = document.getElementById('fotoPreview');
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                reader.readAsDataURL(file);
            } else {
                preview.style.display = 'none';
            }
        });
    </script>
</body>
</html>